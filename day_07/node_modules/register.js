import { readFile,writeFile } from "./readAndWrite.js";
const File = "./user.json";
const users = {
    "name":"John Doe",
    "email":"john.doe@example.com",
    "password":"password123",
    "gender":"male",
}

const register = async (users) => {
    const existingUsers = await readFile(File);
    const existingUser = existingUsers.find((user) => user.email === users.email);
    if(existingUser){
        return {message:"User already exists", status:400};
    } 
    const updatedUsers = [...existingUsers, users];
    return await writeFile(File, updatedUsers);
};